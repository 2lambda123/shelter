<% content_for :subnav do %>
  <%= render 'subnav', namespace: @namespace, repository: @repository %>
<% end %>

<div class="row">
  <div class="col-md-8">
    <div class="box box-solid box-default">
      <div class="box-header with-border">
        <h3 class="box-title"><%= t '.description' %></h3>
        <div class="box-tools pull-right">
          <button type="button" class="btn btn-box-tool"><i class="fa fa-edit"></i></button>
        </div>
      </div>
      <div class="box-body">
        <p class="repo-description">
          <%= @repository.description || t('.desc_empty') %>
        </p>
      </div>
    </div>
  </div>
  <div class="col-md-4">
    <div class="box box-solid box-default">
      <div class="box-header with-border">
        <h3 class="box-title"><%= t '.docker_pull_command' %></h3>
        <div class="box-tools pull-right">
          <button type="button" class="btn btn-box-tool"><i class="fa fa-clipboard"></i></button>
        </div>
      </div>
      <div class="box-body">
        <p class="docker-pull-command">
          docker pull <%= request.host_with_port %>/<%= @namespace.name %>/<%= @repository.name %>
        </p>
      </div>
    </div>
      <div class="box box-solid box-default">
        <div class="box-header with-border">
          <h3 class="box-title"><%= t '.visibility_settings' %></h3>
          <div class="box-tools pull-right">
          </div>
        </div>
        <div class="box-body">
          <%= form_tag toggle_publicity_namespace_repository_path(@namespace.name, @repository.name), method: :post do %>
            <%= hidden_field_tag :is_public, @repository.is_public ? 'false' : 'true' %>
            <%= submit_tag @repository.is_public ? t('.make_private') : t('.make_public'), class: 'btn btn-block btn-primary btn-lg' %>
          <% end %>
        </div>
      </div>
  </div>
</div>
